<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/three@0.138.3/build/three.min.js"></script>
    <style>
      /* =================================== */
      /*          GLOBAL STYLES              */
      /* =================================== */

      /* Variabel warna dan layout global */
      :root{
        --bg-solid: #222;
        --text-dim: #c8c8c8;
        --text-bright: #fff;
        --panel: rgba(20,20,20,0.92);
        --gap-bridge: 12px;
      }
      *{ box-sizing: border-box; }
      body{
        margin:0;
        font-family: 'Share Tech Mono', monospace;
        background:#0f0f0f;
        color:#eee;
        min-height:200vh;
      }

      /* =================================== */
      /*             NAVBAR                  */
      /* =================================== */

      /* --- Kontainer Navbar Utama (Sticky & Efek Blur) --- */
      .navbar{
        position: sticky; top:0; z-index:1000; width:100%;
        padding:12px 20px 10px;
        background: var(--bg-solid);
        color: var(--text-bright);
        transition: background .25s ease, box-shadow .25s ease, backdrop-filter .25s ease;
        -webkit-backdrop-filter:none; backdrop-filter:none;
        border-radius:0;
      }
      .navbar.scrolled{
        background: rgba(20,20,20,0.35);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        box-shadow: 0 6px 18px rgba(0,0,0,.25);
      }

      .topbar{ display:flex; align-items:center; justify-content:space-between; }

      /* --- Logo Perusahaan --- */
      .logo{ display:flex; align-items:center; }
      .logo img{
        max-height:55px; height:auto; width:auto; display:block;
      }

      /* --- Tombol Hamburger (Hanya Tampil di Mobile) --- */
      .hamburger{
        display:none; font-size:28px; background:none; border:none; color:var(--text-dim);
        cursor:pointer; padding:4px 6px; line-height:1; transition:color .2s ease;
      }
      .hamburger:hover{ color:var(--text-bright); }

      /* --- Menu Navigasi Utama --- */
      .menu{
        display:flex; justify-content:center; gap:40px; margin-top:12px; flex-wrap:wrap;
      }
      .menu a, .menu button.menu-link{
        text-decoration:none; background:none; border:none;
        color:var(--text-dim); font-weight:500; padding:6px 0;
        transition:color .2s ease; letter-spacing:1px; text-transform:uppercase; font-size:20px; 
        font-family: 'Share Tech Mono', monospace;
        cursor:pointer;
      }
      .menu a:hover, .menu button.menu-link:hover{ color:var(--text-bright); }

      /* --- Dropdown "Products" di Desktop --- */
      .dropdown{ position:relative; }
      .dropdown::after{
        content:""; position:absolute; left:-8px; right:-8px; top:100%;
        height: var(--gap-bridge);
      }
      .menu .caret{
        margin-left:6px; font-size:12px; opacity:.8; transition:transform .2s ease, color .2s ease;
        display:inline-block;
      }
      .submenu{
        position:absolute; left:50%; transform:translateX(-50%) translateY(6px);
        top: calc(100% + var(--gap-bridge));
        min-width:260px; display:flex; flex-direction:column;
        background: var(--panel); border:1px solid rgba(255,255,255,0.06);
        border-radius:10px; padding:10px; box-shadow:0 12px 28px rgba(0,0,0,.35);
        visibility:hidden; opacity:0; pointer-events:none;
        transition: opacity .16s ease, transform .16s ease, visibility 0s linear .16s;
      }
      .submenu a{
        text-transform:none; letter-spacing:.3px; font-size:13px; color:#d4d4d4;
        padding:8px 10px; border-radius:6px; transition:color .2s ease, background .2s ease; white-space:nowrap;
      }
      .submenu a:hover{ color:#fff; background:rgba(255,255,255,0.06); }
      .dropdown:hover .menu-link{ color:var(--text-bright); }
      .dropdown:hover .caret{ transform:translateY(1px) rotate(180deg); }
      .dropdown:hover .submenu{
        visibility:visible; opacity:1; pointer-events:auto;
        transform:translateX(-50%) translateY(0);
        transition: opacity .16s ease, transform .16s ease, visibility 0s;
      }
      
      /* =================================== */
      /*           HERO SECTION              */
      /* =================================== */

      /* --- Kontainer Utama Hero & Slider --- */
      .hero {
        position: relative;
        height: 100vh;
        width: 100%;
        background-color: #111111;
        /* Optional: Placeholder untuk grafik abstrak di latar belakang */
        /* background-image: url('path/to/your/abstract-graphic.png'); */
        overflow: hidden; /* Mencegah konten keluar dari section */
      }

      .slides-container {
        display: flex;
        height: 100%;
        width: 100%; /* JS will handle the total width logic */
        transition: transform 0.6s ease-in-out;
      }

      .slide {
        flex: 1 0 100%; /* Each slide takes full width */
        display: flex;
        align-items: center;
        padding: 0 8%;
      }

      .slide.placeholder-slide {
        justify-content: center;
      }

      /* --- Konten Teks di Dalam Hero --- */
      .hero-content {
        max-width: 55%;
        color: var(--text-bright);
        z-index: 2;
      }

      .hero-content h1 {
        font-family: 'Montserrat', sans-serif;
        font-size: clamp(2.2rem, 5vw, 4rem); /* Ukuran font responsif */
        font-weight: 600;
        text-transform: uppercase;
        color: #FFFFFF;
        margin: 0 0 16px 0;
        line-height: 1.2;
      }

      .hero-content .subtitle {
        font-family: 'Montserrat', sans-serif;
        font-size: clamp(0.9rem, 1.5vw, 1rem);
        text-transform: uppercase;
        color: #AAAAAA;
        margin: 0 0 32px 0;
        letter-spacing: 0.5px;
        max-width: 90%;
      }

      .hero-content .cta-button {
        display: inline-block;
        background: transparent;
        border: 1px solid #888888;
        color: #FFFFFF;
        padding: 14px 28px;
        text-decoration: none;
        text-transform: uppercase;
        font-family: 'Share Tech Mono', monospace;
        font-size: 14px;
        letter-spacing: 1px;
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .hero-content .cta-button:hover {
        background-color: rgba(255, 255, 255, 0.05);
        border-color: #FFFFFF;
      }

      /* --- Navigasi Slider (Panah Kiri/Kanan) --- */
      .slider-nav {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        transform: translateY(-50%);
        z-index: 3;
        display: flex;
        justify-content: space-between;
        padding: 0 4%;
        pointer-events: none; /* Agar tidak menghalangi interaksi di bawahnya */
      }

      .slider-arrow {
        background: none;
        border: 1px solid rgba(255,255,255,0.2);
        color: #AAAAAA;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        font-size: 24px;
        cursor: pointer;
        pointer-events: all; /* Aktifkan kembali pointer untuk tombol */
        transition: all 0.3s ease;
      }

      .slider-arrow:hover {
        background-color: rgba(255, 255, 255, 0.05);
        color: #FFFFFF;
        border-color: rgba(255,255,255,0.5);
      }

      /* --- Indikator Halaman Slider (Titik-titik) --- */
      .slider-indicators {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        list-style: none;
        gap: 12px;
        z-index: 3;
      }

      .indicator-dot {
        width: 10px;
        height: 10px;
        background-color: #444444;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .indicator-dot.active {
        background-color: #FFFFFF;
      }

      /* =================================== */
      /*          PRODUCTS SECTION           */
      /* =================================== */

      /* --- Kontainer Utama & Layout Grid --- */
      #products-section {
        background: #000;
        padding: 80px 4%;
        border-top: 1px solid rgba(255,255,255,0.08);
      }

      .products-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 60px;
        align-items: center;
        max-width: 1400px;
        margin: 0 auto;
      }

      /* --- Kolom Kiri (Judul & Grid Produk) --- */
      .products-grid-column h2 {
        font-family: 'Montserrat', sans-serif;
        font-size: clamp(1.8rem, 4vw, 2.5rem);
        text-transform: uppercase;
        color: var(--text-bright);
        margin: 0 0 40px 0;
        letter-spacing: 1px;
      }

      .products-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }

      .product-card {
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid #333;
        border-radius: 8px;
        padding: 24px 16px;
        text-align: center;
        text-decoration: none;
        color: var(--text-dim);
        transition: border-color 0.3s ease, background-color 0.3s ease;
        font-family: 'Montserrat', sans-serif;
        font-size: 13px;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .product-card:hover {
        border-color: #fff;
        background-color: rgba(255, 255, 255, 0.04);
        color: var(--text-bright);
      }

      .product-card .icon-placeholder {
        height: 40px;
        width: 40px;
        border: 1px solid #555;
        border-radius: 50%;
        margin: 0 auto 16px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Share Tech Mono', monospace;
        font-size: 20px;
        color: #666;
      }
      
      /* --- Kolom Kanan (Kanvas Model 3D) --- */
      .products-3d-column {
        position: relative;
        width: 100%;
        min-height: 500px; /* Ensure it has height */
      }

      #3d-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        outline: none;
      }

      /* =================================== */
      /*        RESPONSIVE (MOBILE)          */
      /* =================================== */
      @media (max-width: 768px){

        /* --- Tampilan Navbar di Mobile --- */
        .hamburger{ display:block; }

        .menu{
          display:none;
          flex-direction:column;
          align-items:stretch;     /* full width */
          gap:16px;
          margin-top:12px;
          width:100%;
        }
        .menu.active{ display:flex; }

        .menu a, .menu button.menu-link{
          display:block;
          width:100%;
          text-align:center;
          padding:10px 12px;
        }
        .dropdown{ width:100%; }
        .submenu{
          position:static; left:auto; top:auto; transform:none;
          min-width:0; width:100%;
          margin-top:6px;
          border-radius:8px; padding:6px 8px; box-shadow:none;
          visibility:visible; opacity:1; pointer-events:auto;
          display:none;            /* default: tertutup */
        }
        .dropdown.open .submenu{ display:flex; }

        .dropdown .caret{ transform:none; }
        .dropdown.open .caret{ transform:rotate(180deg); }

        .dropdown::after{ display:none; }

        /* --- Tampilan Hero Section di Mobile --- */
        .hero { /* Tidak ada perubahan spesifik, mengandalkan style .slide */ }

        .slide { padding: 0 5%; justify-content: center; text-align: center; }

        .hero-content {
          max-width: 100%; /* Lebar penuh */
          display: flex;
          flex-direction: column;
          align-items: center; /* Item di dalam konten (seperti tombol) jadi di tengah */
        }

        .hero-content h1 {
          font-size: clamp(2rem, 8vw, 2.5rem); /* Ukuran font disesuaikan untuk mobile */
        }

        .hero-content .subtitle {
          max-width: 100%;
          font-size: clamp(0.8rem, 4vw, 0.9rem);
        }

        .slider-nav { display: none; } /* Sembunyikan panah di mobile */
        .slider-indicators { bottom: 20px; }

        /* --- Tampilan Products Section di Mobile --- */
        #products-section {
          padding: 60px 5%;
        }
        .products-container {
          grid-template-columns: 1fr; /* Stack columns */
          gap: 50px;
        }
        .products-grid-column h2 {
          text-align: center;
        }
        .products-3d-column {
          min-height: 350px; /* Adjust height for mobile */
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar" id="navbar">
      <div class="topbar">
        <div class="logo">
          <a href="/">
            <img src="assets/PT-KUSUMA-SARANA-DEDIKASI-LOGO.webp" alt="LOGO PERUSAHAAN PT KUSUMA SARANA DEDIKASI">
          </a>
        </div>
        <button class="hamburger" aria-label="Toggle menu" onclick="toggleMenu()">☰</button>
      </div>

      <div id="menu" class="menu" role="menubar">
        <a href="#">Home</a>
        <a href="#">About Us</a>

        <div class="dropdown" id="productsDropdown">
          <button class="menu-link" aria-haspopup="true" aria-expanded="false">
            Products <span class="caret">▾</span>
          </button>
          <div class="submenu" role="menu">
            <a href="#">Sealing Elements</a>
            <a href="#">CNC Machined Seals</a>
            <a href="#">Hydraulic & Pneumatic Seals</a>
            <a href="#">O-Rings</a>
            <a href="#">Custom Gaskets</a>
          </div>
        </div>

        <a href="#">Customers</a>
        <a href="#">Gallery</a>
        <a href="#">Contact</a>
      </div>
    </nav>

    <section class="hero">
      <div class="slides-container">
        <!-- Slide 1 (Konten Asli) -->
        <div class="slide">
          <div class="hero-content">
            <h1>
              Your Go-To Solution<br>For Mining
            </h1>
            <p class="subtitle">
              Sealing Excellence & Hydraulic Cylinder Repair & Manufacturing.
            </p>
            <a href="#" class="cta-button">Explore Products</a>
          </div>
        </div>
        <!-- Slide 2 (Placeholder) -->
        <div class="slide placeholder-slide">
          <h1 style="color: white; font-size: 4rem; font-family: 'Montserrat', sans-serif;">SLIDE 2</h1>
        </div>
        <!-- Slide 3 (Placeholder) -->
        <div class="slide placeholder-slide">
          <h1 style="color: white; font-size: 4rem; font-family: 'Montserrat', sans-serif;">SLIDE 3</h1>
        </div>
        <!-- Slide 4 (Placeholder) -->
        <div class="slide placeholder-slide">
          <h1 style="color: white; font-size: 4rem; font-family: 'Montserrat', sans-serif;">SLIDE 4</h1>
        </div>
        <!-- Slide 5 (Placeholder) -->
        <div class="slide placeholder-slide">
          <h1 style="color: white; font-size: 4rem; font-family: 'Montserrat', sans-serif;">SLIDE 5</h1>
        </div>
      </div>
    
      <div class="slider-nav">
        <button class="slider-arrow left" aria-label="Previous slide">&lt;</button>
        <button class="slider-arrow right" aria-label="Next slide">&gt;</button>
      </div>
    
      <div class="slider-indicators">
        <span class="indicator-dot"></span><span class="indicator-dot"></span><span class="indicator-dot"></span><span class="indicator-dot"></span><span class="indicator-dot"></span>
      </div>
    </section>
    
    <!-- OUR PRODUCTS SECTION -->
    <section id="products-section">
      <div class="products-container">
        <div class="products-grid-column">
          <h2>Our Products</h2>
          <div class="products-grid">
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              SEALING ELEMENTS
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              CNC MACHINED SEALS
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              MECHANICAL SEALS
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              HYDRAULIC HOSES
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              HYDRAULIC CYLINDERS
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              TURBO CHARGERS
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              HEAVY EQUIPMENT PARTS
            </a>
            <a href="#" class="product-card">
              <div class="icon-placeholder">#</div>
              UNDERCARRIAGE
            </a>
          </div>
        </div>
        <div class="products-3d-column">
          <canvas id="3d-canvas"></canvas>
        </div>
      </div>
    </section>

    <script>
      // =================================== //
      //      NAVBAR & MENU LOGIC          //
      // =================================== //

      // 1. Fungsi untuk toggle menu hamburger di mobile
      function toggleMenu(){
        document.getElementById('menu').classList.toggle('active');
      }

      // 2. Efek blur pada navbar saat halaman di-scroll
      const navbar = document.getElementById('navbar');
      const threshold = 10;
      window.addEventListener('scroll', () => {
        if (window.scrollY > threshold){ navbar.classList.add('scrolled'); }
        else { navbar.classList.remove('scrolled'); }
      });
      
      // 3. Logika untuk membuka/menutup dropdown "Products" di mobile
      const productsDropdown = document.getElementById('productsDropdown');
      const productsBtn = productsDropdown.querySelector('.menu-link');

      productsBtn.addEventListener('click', (e) => {
        const isMobile = window.matchMedia("(max-width: 768px)").matches;
        if (isMobile){
          e.preventDefault();
          productsDropdown.classList.toggle('open');
          const expanded = productsBtn.getAttribute('aria-expanded') === 'true';
          productsBtn.setAttribute('aria-expanded', String(!expanded));
        }
      });

      // =================================== //
      //          HERO SLIDER LOGIC        //
      // =================================== //

      // 1. Seleksi Elemen DOM
      const slidesContainer = document.querySelector('.slides-container');
      const slides = document.querySelectorAll('.slide');
      const nextBtn = document.querySelector('.slider-arrow.right');
      const prevBtn = document.querySelector('.slider-arrow.left');
      const dots = document.querySelectorAll('.indicator-dot');

      // 2. Variabel Status
      let currentIndex = 0;
      let slideInterval;
      const slideCount = slides.length;

      // 3. Fungsi Utama
      const goToSlide = (index) => {
        // Cek batasan agar index tidak keluar dari rentang slide
        if (index < 0) index = slideCount - 1;
        if (index >= slideCount) index = 0;

        slidesContainer.style.transform = `translateX(-${index * 100}%)`;
        currentIndex = index;

        // Update active dot
        dots.forEach(dot => dot.classList.remove('active'));
        dots[currentIndex].classList.add('active');
      };

      const nextSlide = () => {
        goToSlide(currentIndex + 1);
      };

      const prevSlide = () => {
        goToSlide(currentIndex - 1);
      };

      // 4. Logika Slide Otomatis
      const startAutoSlide = () => {
        slideInterval = setInterval(nextSlide, 5000); // 5 seconds
      };

      const resetAutoSlide = () => {
        // Hentikan interval yang ada dan mulai lagi dari awal
        clearInterval(slideInterval);
        startAutoSlide();
      };

      // 5. Event Listeners untuk Navigasi
      nextBtn.addEventListener('click', () => { nextSlide(); resetAutoSlide(); });
      prevBtn.addEventListener('click', () => { prevSlide(); resetAutoSlide(); });
      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => { goToSlide(index); resetAutoSlide(); });
      });

      // 6. Inisialisasi Slider
      goToSlide(0);
      startAutoSlide();

      // =================================== //
      //      THREE.JS 3D MODEL LOGIC      //
      // =================================== //

      const canvas = document.getElementById('3d-canvas');
      // Pastikan elemen canvas ada dan library Three.js sudah dimuat
      if (canvas && typeof THREE !== 'undefined') {

        // 1. Setup Scene, Camera, dan Renderer
        const scene = new THREE.Scene();
        const container = document.querySelector('.products-3d-column');

        const camera = new THREE.PerspectiveCamera(
          75, // Field of view
          container.clientWidth / container.clientHeight, // Aspect ratio
          0.1, // Near clipping plane
          1000 // Far clipping plane
        );
        camera.position.z = 4; // Posisikan kamera sedikit mundur

        const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        
        // 2. Membuat Objek 3D (Placeholder)
        const geometry = new THREE.TorusKnotGeometry(1.5, 0.4, 150, 20);
        const material = new THREE.MeshBasicMaterial({ 
          color: 0xff8800, // Glowing orange
          wireframe: true 
        });
        const model = new THREE.Mesh(geometry, material);
        scene.add(model);

        // 3. Interaksi Gerakan Mouse
        let mouse = { x: 0, y: 0 };
        let targetRotation = { x: 0, y: 0 };

        function onMouseMove(event) {
          mouse.x = (event.clientX / window.innerWidth) - 0.5;
          mouse.y = (event.clientY / window.innerHeight) - 0.5;
        }
        window.addEventListener('mousemove', onMouseMove);

        // 4. Animation Loop (Render Terus-menerus)
        function animate() {
          requestAnimationFrame(animate);

          // Kalkulasi rotasi target berdasarkan posisi mouse
          targetRotation.y = mouse.x * 1.2;
          targetRotation.x = mouse.y * 1.2;

          // Terapkan rotasi secara perlahan (smoothing/easing)
          model.rotation.y += (targetRotation.y - model.rotation.y) * 0.05;
          model.rotation.x += (targetRotation.x - model.rotation.x) * 0.05;
          model.rotation.z += 0.001; // Rotasi konstan agar tetap hidup

          renderer.render(scene, camera);
        }
        animate();

        // 5. Menangani Perubahan Ukuran Jendela Browser
        window.addEventListener('resize', () => {
          camera.aspect = container.clientWidth / container.clientHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(container.clientWidth, container.clientHeight);
        });
      }
    </script>
  </body>
</html>
